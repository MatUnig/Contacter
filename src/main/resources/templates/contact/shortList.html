<!DOCTYPE HTML>
<html xmlns="http://www.w3.org/1999/xhtml" xmlns:th="http://www.thymeleaf.org"
      xmlns:sec="http://www.thymeleaf.org/thymeleaf-extras-springsecurity4">
<head>
    <meta charset="utf-8">
    <script type="text/javascript" th:src="@{/js/function.js}"></script>
</head>
<body>

<div>
    <table>
        <tr th:each="contact: ${contacts}">
            <td th:text="${contact.firstName}"/>
            <td th:text="${contact.lastName}"/>
            <td th:class="${contact.id}" style="display: none;" th:text="${contact.email}"/>
            <td th:class="${contact.id}" style="display: none;" th:text="${contact.category}"/>
            <td th:class="${contact.id}" style="display: none;" th:text="${contact.subcategory}"/>
            <td th:class="${contact.id}" style="display: none;" th:text="${contact.phone}"/>
            <td th:class="${contact.id}" style="display: none;" th:text="${contact.birthday}"/>
            <td><button th:onclick="'javascript:toggleVisibility(\'' + ${contact.id} + '\');'">Pokaż/ukryj szczegóły</button></td>
            <td sec:authorize="isAuthenticated()">
                <a th:href="@{/contact/details/{id}/(id=${contact.id})}">Pełny widok kontaktu</a>
                <a th:href="@{/contact/update/{id}/(id=${contact.id})}">Edytuj</a>
                <a th:href="@{/contact/delete/{id}/(id=${contact.id})}">Usuń</a>
            </td>
        </tr>
    </table>
    <a sec:authorize="isAuthenticated()" th:href="@{/contact/add}">Dodaj nowy kontakt</a>
    <a th:href="@{/user/login}">Logowanie</a>
</div>
</body>
</html>